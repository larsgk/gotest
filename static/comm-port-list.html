<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="bower_components/paper-listbox/paper-listbox.html">

<dom-module id="comm-port-list">
<template>
    <iron-ajax auto url="/commports" handle-as="json" on-response="ajaxResponse"></iron-ajax>
    <div>Comm Ports:</div>
    <paper-listbox selected="0">
    <template is="dom-repeat" items="{{commPorts}}">
        <paper-item>Port {{index}}:  {{item}}</paper-item>
    </template>
    </paper-listbox>
</template>
<script>
    Polymer({ is:"comm-port-list",
        ajaxResponse: function(request) {
    		var res = request.detail.response;
    		if(res.Type === "CommPorts") {
    			this.commPorts = res.Data;
                console.log(this.commPorts);
    		}
        }
    });
</script>
</dom-module>